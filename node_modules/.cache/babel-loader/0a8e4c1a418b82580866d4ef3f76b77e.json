{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementBlock as _createElementBlock, Fragment as _Fragment, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-0231f35a\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = /*#__PURE__*/_createTextVNode(\"任务广场\");\n\nconst _hoisted_2 = /*#__PURE__*/_createTextVNode(\"任务详情\");\n\nconst _hoisted_3 = {\n  class: \"container\"\n};\nconst _hoisted_4 = {\n  class: \"card_header\"\n};\nconst _hoisted_5 = {\n  style: {\n    \"font-size\": \"larger\"\n  }\n};\nconst _hoisted_6 = {\n  class: \"header_tags\"\n};\n\nconst _hoisted_7 = /*#__PURE__*/_createTextVNode(\"竞标中\");\n\nconst _hoisted_8 = /*#__PURE__*/_createTextVNode(\"功能测试\");\n\nconst _hoisted_9 = /*#__PURE__*/_createTextVNode(\"性能测试\");\n\nconst _hoisted_10 = {\n  class: \"information\"\n};\nconst _hoisted_11 = {\n  style: {\n    \"margin-top\": \"5px\"\n  }\n};\nconst _hoisted_12 = {\n  style: {\n    \"margin-top\": \"5px\"\n  }\n};\nconst _hoisted_13 = {\n  class: \"need_information\"\n};\nconst _hoisted_14 = {\n  style: {\n    \"display\": \"flex\",\n    \"flex-direction\": \"row\",\n    \"margin-top\": \"20px\"\n  }\n};\n\nconst _hoisted_15 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  style: {\n    \"font-size\": \"large\",\n    \"margin-top\": \"2px\",\n    \"font-weight\": \"bolder\",\n    \"margin-left\": \"5px\"\n  }\n}, \"需求描述\", -1\n/* HOISTED */\n));\n\nconst _hoisted_16 = {\n  style: {\n    \"margin-top\": \"10px\"\n  }\n};\nconst _hoisted_17 = {\n  key: 0\n};\n\nconst _hoisted_18 = /*#__PURE__*/_createTextVNode(\"我要报名\");\n\nconst _hoisted_19 = /*#__PURE__*/_createTextVNode(\"我要报名\");\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_divider = _resolveComponent(\"el-divider\");\n\n  const _component_el_breadcrumb_item = _resolveComponent(\"el-breadcrumb-item\");\n\n  const _component_el_breadcrumb = _resolveComponent(\"el-breadcrumb\");\n\n  const _component_el_tag = _resolveComponent(\"el-tag\");\n\n  const _component_edit = _resolveComponent(\"edit\");\n\n  const _component_el_icon = _resolveComponent(\"el-icon\");\n\n  const _component_el_button = _resolveComponent(\"el-button\");\n\n  const _component_el_card = _resolveComponent(\"el-card\");\n\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(_component_el_divider), _createVNode(_component_el_breadcrumb, {\n    separator: \"/\",\n    class: \"breadcrumb\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_breadcrumb_item, {\n      to: {\n        path: '/TaskSquare'\n      }\n    }, {\n      default: _withCtx(() => [_hoisted_1]),\n      _: 1\n      /* STABLE */\n\n    }), _createVNode(_component_el_breadcrumb_item, null, {\n      default: _withCtx(() => [_hoisted_2]),\n      _: 1\n      /* STABLE */\n\n    })]),\n    _: 1\n    /* STABLE */\n\n  }), _createElementVNode(\"div\", _hoisted_3, [_createVNode(_component_el_card, {\n    class: \"box_card\"\n  }, {\n    header: _withCtx(() => [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"span\", _hoisted_5, _toDisplayString($data.task.taskName), 1\n    /* TEXT */\n    ), _createElementVNode(\"div\", _hoisted_6, [_createVNode(_component_el_tag, {\n      class: \"header_tag\",\n      type: \"warning\"\n    }, {\n      default: _withCtx(() => [_hoisted_7]),\n      _: 1\n      /* STABLE */\n\n    }), $data.task.taskType === 0 ? (_openBlock(), _createBlock(_component_el_tag, {\n      key: 0,\n      style: {\n        \"margin-left\": \"10px\"\n      }\n    }, {\n      default: _withCtx(() => [_hoisted_8]),\n      _: 1\n      /* STABLE */\n\n    })) : _createCommentVNode(\"v-if\", true), $data.task.taskType === 1 ? (_openBlock(), _createBlock(_component_el_tag, {\n      key: 1,\n      style: {\n        \"margin-left\": \"10px\"\n      },\n      type: \"success\"\n    }, {\n      default: _withCtx(() => [_hoisted_9]),\n      _: 1\n      /* STABLE */\n\n    })) : _createCommentVNode(\"v-if\", true)])])]),\n    default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"div\", null, \"发布日期 ： \" + _toDisplayString($data.task.taskStartTime), 1\n    /* TEXT */\n    ), _createElementVNode(\"div\", _hoisted_11, \"结束日期 ： \" + _toDisplayString($data.task.taskEndTime), 1\n    /* TEXT */\n    ), _createElementVNode(\"div\", _hoisted_12, \"参与人员 ： 剩余 \" + _toDisplayString($data.task.workerNumLeft) + \" 人 | 总需 \" + _toDisplayString($data.task.workerNumTotal) + \" 人\", 1\n    /* TEXT */\n    )]), _createElementVNode(\"div\", _hoisted_13, [_createElementVNode(\"div\", _hoisted_14, [_createVNode(_component_el_icon, {\n      color: \"#409efc\",\n      size: 30\n    }, {\n      default: _withCtx(() => [_createVNode(_component_edit)]),\n      _: 1\n      /* STABLE */\n\n    }), _hoisted_15]), _createElementVNode(\"div\", _hoisted_16, \"任务简介 ： \" + _toDisplayString($data.task.taskIntroduction), 1\n    /* TEXT */\n    )]), this.role === '1' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_17, [$data.isAble ? (_openBlock(), _createBlock(_component_el_button, {\n      key: 0,\n      type: \"danger\",\n      round: \"\",\n      class: \"check_btn\",\n      size: \"large\",\n      onClick: _cache[0] || (_cache[0] = $event => $options.enroll())\n    }, {\n      default: _withCtx(() => [_hoisted_18]),\n      _: 1\n      /* STABLE */\n\n    })) : (_openBlock(), _createBlock(_component_el_button, {\n      key: 1,\n      type: \"info\",\n      round: \"\",\n      class: \"check_btn\",\n      size: \"large\",\n      onClick: _cache[1] || (_cache[1] = $event => $options.showEnrollError()),\n      plain: \"\"\n    }, {\n      default: _withCtx(() => [_hoisted_19]),\n      _: 1\n      /* STABLE */\n\n    }))])) : _createCommentVNode(\"v-if\", true)]),\n    _: 1\n    /* STABLE */\n\n  })])], 64\n  /* STABLE_FRAGMENT */\n  );\n}","map":{"version":3,"mappings":"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","names":["class","style","_createElementVNode","_createVNode","_component_el_divider","_component_el_breadcrumb","separator","_component_el_breadcrumb_item","to","path","_component_el_card","header","_toDisplayString","$data","taskName","_component_el_tag","type","taskType","_createBlock","taskStartTime","taskEndTime","workerNumLeft","workerNumTotal","_component_el_icon","color","size","_component_edit","_hoisted_15","taskIntroduction","role","_createElementBlock","_hoisted_17","_component_el_button","round","onClick","$options","plain"],"sourceRoot":"","sources":["D:\\download\\大三\\大三下\\1 软工三\\project\\第一阶段\\frontend\\frontend-volatile\\src\\views\\task\\TaskInfoFromSquare.vue"],"sourcesContent":["<template>\r\n  <el-divider></el-divider>\r\n  <el-breadcrumb separator=\"/\"  class=\"breadcrumb\">\r\n    <el-breadcrumb-item :to=\"{path: '/TaskSquare'}\">任务广场</el-breadcrumb-item>\r\n    <el-breadcrumb-item>任务详情</el-breadcrumb-item>\r\n  </el-breadcrumb>\r\n  <div class=\"container\">\r\n  <el-card class=\"box_card\">\r\n    <template #header>\r\n      <div class=\"card_header\">\r\n        <span style=\"font-size: larger\">{{task.taskName}}</span>\r\n        <div class=\"header_tags\">\r\n         <el-tag class=\"header_tag\" type=\"warning\">竞标中</el-tag>\r\n          <el-tag v-if=\"task.taskType === 0\" style=\"margin-left: 10px\">功能测试</el-tag>\r\n          <el-tag v-if=\"task.taskType === 1\" style=\"margin-left: 10px\" type=\"success\">性能测试</el-tag>\r\n        </div>\r\n      </div>\r\n    </template>\r\n    <div class=\"information\">\r\n      <div>发布日期 ： {{task.taskStartTime}}</div>\r\n      <div style=\"margin-top: 5px\">结束日期 ： {{task.taskEndTime}}</div>\r\n      <div style=\"margin-top: 5px\">参与人员 ： 剩余 {{task.workerNumLeft}}  人  |  总需  {{task.workerNumTotal}} 人</div>\r\n    </div>\r\n    <div class=\"need_information\">\r\n      <div style=\"display: flex;flex-direction: row;margin-top:20px\">\r\n      <el-icon color=\"#409efc\" :size=\"30\">\r\n        <edit />\r\n      </el-icon>\r\n        <div style=\"font-size: large;margin-top: 2px;font-weight: bolder;margin-left: 5px\">需求描述</div>\r\n      </div>\r\n      <div style=\"margin-top: 10px\">任务简介 ： {{task.taskIntroduction}}</div>\r\n    </div>\r\n    <div v-if=\"this.role === '1'\">\r\n    <el-button v-if=\"isAble\" type=\"danger\" round class=\"check_btn\" size=\"large\" @click=\"enroll()\" >我要报名</el-button>\r\n    <el-button v-else type=\"info\" round class=\"check_btn\" size=\"large\" @click=\"showEnrollError()\" plain>我要报名</el-button>\r\n    </div>\r\n  </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {Edit} from \"@element-plus/icons-vue\"\r\nimport {ElMessage} from \"element-plus\";\r\nimport {acceptTask} from \"@/api/task\";\r\nimport {employeeTaskDetail} from \"@/api/square\";\r\nimport {employerTaskDetail} from \"@/api/square\";\r\nexport default {\r\n  name: \"TaskInfoFromSquare\",\r\n  data() {\r\n    return {\r\n      taskId: this.$route.params.taskId,\r\n      task: {\r\n        // taskId: 0,\r\n        // taskName: 'test_task',\r\n        // taskType: 0,\r\n        // workerNumTotal: 10,\r\n        // workerNumLeft: 5,\r\n        // taskStartTime: '2022-3-1',\r\n        // taskEndTime: '2022-5-3',\r\n        // taskState: true,\r\n        // taskIntroduction: '这是一个测试任务',\r\n      },\r\n      role:window.localStorage.getItem(\"role\"),\r\n      isSelected: false,\r\n      isAble: this.taskState || this.role === '1' || this.isSelected\r\n    }\r\n  },\r\n  mounted() {\r\n    if(this.role==='1')\r\n    {\r\n      employeeTaskDetail({token:window.localStorage.getItem(\"token\"),taskId:this.taskId})\r\n      .then(res => {\r\n        if(res.code === 1)\r\n        {\r\n          this.task = res.data.task\r\n          this.isSelected = res.data.isSelected\r\n        }\r\n      })\r\n    }\r\n    else if(this.role === '0')\r\n    {\r\n      employerTaskDetail({token:window.localStorage.getItem(\"userToken\"),taskId:this.taskId})\r\n      .then(res => {\r\n        if(res.code === 1)\r\n        {\r\n          console.log(res.msg)\r\n          this.task = res.data.task\r\n        }\r\n        else {\r\n          console.log(res.msg)\r\n        }\r\n      })\r\n    }\r\n  },\r\n  components: {\r\n    Edit\r\n  },\r\n  methods: {\r\n    enroll(){\r\n      const token = window.localStorage.getItem(\"token\")\r\n      acceptTask({token:token,taskId:this.taskId})\r\n      .then(res => {\r\n        if(res.code === 1){\r\n          this.$router.push(\"/taskEnrollSucceed\")\r\n          console.log(res.msg)\r\n          console.log(res.data)\r\n        }\r\n        else {\r\n          console.log(res.msg)\r\n        }\r\n      })\r\n    },\r\n    showEnrollError(){\r\n      ElMessage.error('非常抱歉，报名已经结束，看看其他项目吧');\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.breadcrumb{\r\n  margin-left: 20px;\r\n  font-family: 幼圆;\r\n  font-size: medium;\r\n  margin-top: -10px;\r\n}\r\n.box_card{\r\n  width: 90%;\r\n  margin-top: 10px;\r\n  margin-left: 5%;\r\n  height: 450px;\r\n}\r\n.card_header{\r\n  margin-left: 5px;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n.header_tags{\r\n  display: flex;\r\n  flex-direction: row;\r\n  margin-top: 5px;\r\n}\r\n.information{\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n.check_btn{\r\n  position: absolute;\r\n  right: 90px;\r\n  bottom: 65px;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}